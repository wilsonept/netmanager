{% extends "bootstrap/base.html" %}

{% block title %}Авторизация{% endblock %}

{% block content %}

    <main class="d-flex h-100 w-100 justify-content-center align-items-center">
        <form class="d-flex flex-column border rounded-3 px-5 pb-3" method="POST" action="{{ url_for('login') }}" novalidate>

            {{ form.csrf_token }}

            <!-- заголовок формы -->
            <h1 class="mt-5">Netmanager</h1>
            
            <!-- поля формы с обработкой ошибок -->
            <label class="my-2 form-label">{{ form.login.label }}</label>
                {% if not "login" in errors %}
                    {{ form.login(class_="form-control") }}
                {% else %}
                    {{ form.login(class_="form-control border border-danger border-2") }}
                    {% for error in errors["login"] %}
                        <p class="text-danger">{{ errors["login"][0] }}</p>
                    {% endfor %}
                {% endif %}

            <label class="my-2 form-label">{{ form.passwd.label }}</label>
                {% if not "passwd" in errors %}
                    {{ form.passwd(class_="form-control") }}
                {% else %}
                    {{ form.passwd(class_="form-control border border-danger border-2") }}
                    {% for error in errors["passwd"] %}
                        <p class="text-danger">{{ errors["passwd"][0] }}</p>
                    {% endfor %}
                {% endif %}
                {% for message in get_flashed_messages() %}
                    <p class="text-danger">{{ message }}</p>
                {% endfor %}


            <!-- кнопка подтверждения формы -->
            {{ form.submit(class_="my-5 form-control btn-primary") }}

        </form>
    </main>

{% endblock %}